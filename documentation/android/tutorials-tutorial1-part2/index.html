<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Part 2: Building paths from touch input | WILL SDK Docs</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://localhost/will_docs_instance1/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://localhost/will_docs_instance1/wp-content/themes/will-doc/js/html5.js"></script>
	<![endif]-->

	<link rel="stylesheet" href="../../wp-content/themes/will-doc/css/style.css">
	<link rel="stylesheet" href="../../wp-content/themes/will-doc/css/accordionmenu.css">

	<script src="../../wp-content/themes/will-doc/js/jquery.min.js"></script>
	<script src="../../wp-content/themes/will-doc/js/sidebar.js"></script>

	<link rel="stylesheet" href="../../wp-content/themes/will-doc/css/highlight.css">
	<script src="../../wp-content/themes/will-doc/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
	<header>
		<div class="title">
			<div>WILL &trade;</div>
			<div>sdk documentation</div>
		</div>
		<!--
		<div id="searchbox">
			<input class="typeahead" type="text" placeholder="{{ search_text }}">
		</div>
-->
	</header>

	<div id="sitewrapper">
<div id="sidebar">
	<nav class="accordion">

				<h1 class="do-not-cause-collapse" title="General Concepts">

			General Concepts
			</h1>

							<div class="active-menu never-close">
					<h2 class="not-collapsible" title="Architectural Overview">

								<a href="../../general-concepts/architecture/index.html"
											>Architectural Overview</a>
					
			</h2>

						<h2 class="not-collapsible" title="Generating ink content">

								<a href="../../general-concepts/path-building/index.html"
											>Generating ink content</a>
					
			</h2>

						<h2 class="not-collapsible" title="Rendering ink content">

								<a href="../../general-concepts/rasterizer/index.html"
											>Rendering ink content</a>
					
			</h2>

						<h2 class="not-collapsible" title="Encoding and decoding ink content">

								<a href="../../general-concepts/serialization/index.html"
											>Encoding and decoding ink content</a>
					
			</h2>

						<h2 class="not-collapsible" title="Exchanging ink content">

								<a href="../../general-concepts/file-format/index.html"
											>Exchanging ink content</a>
					
			</h2>

							</div>
							<h1 title="Android SDK">

			Android SDK
			</h1>

							<div>
					<h2 title="Getting Started">

								<a href="../getting-started/index.html"
											>Getting Started</a>
					
			</h2>

						<h2 title="Release Notes">

								<a href="../release-notes/index.html"
											>Release Notes</a>
					
			</h2>

						<h2 title="Tutorials">

								<a href="../tutorials/index.html"
											>Tutorials</a>
					
			</h2>

							<div>
					<h3 title="Tutorial 1: Drawing With Touch">

								<a href="../tutorials-tutorial1/index.html"
											>Tutorial 1: Drawing With Touch</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Setting up the ink engine">

								<a href="../tutorials-tutorial1-part1/index.html"
											>Part 1: Setting up the ink engine</a>
					
			</h4>

						<h4 title="Part 2: Building paths from touch input">

								<a href="index.html"
						 class="selected"					>Part 2: Building paths from touch input</a>
					
			</h4>

						<h4 title="Part 3: Smoothing paths">

								<a href="../tutorials-tutorial1-part3/index.html"
											>Part 3: Smoothing paths</a>
					
			</h4>

						<h4 title="Part 4: Drawing preliminary paths">

								<a href="../tutorials-tutorial1-part4/index.html"
											>Part 4: Drawing preliminary paths</a>
					
			</h4>

						<h4 title="Part 5: Using a particle brush">

								<a href="../tutorials-tutorial1-part5/index.html"
											>Part 5: Using a particle brush</a>
					
			</h4>

						<h4 title="Part 6: Drawing semi-transparent strokes">

								<a href="../tutorials-tutorial1-part6/index.html"
											>Part 6: Drawing semi-transparent strokes</a>
					
			</h4>

						<h4 title="Part 7: Calculating stroke boundary">

								<a href="../tutorials-tutorial1-part7/index.html"
											>Part 7: Calculating stroke boundary</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 2: Encoding and decoding strokes">

								<a href="../tutorials-tutorial2/index.html"
											>Tutorial 2: Encoding and decoding strokes</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Creating a stroke model">

								<a href="../tutorials-tutorial2-part1/index.html"
											>Part 1: Creating a stroke model</a>
					
			</h4>

						<h4 title="Part 2: Serializing and deserializing strokes">

								<a href="../tutorials-tutorial2-part2/index.html"
											>Part 2: Serializing and deserializing strokes</a>
					
			</h4>

						<h4 title="Part 3: Working with the WILL file format">

								<a href="../tutorials-tutorial2-part3/index.html"
											>Part 3: Working with the WILL file format</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 3: Erasing strokes">

								<a href="../tutorials-tutorial3/index.html"
											>Tutorial 3: Erasing strokes</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Extending the stroke model">

								<a href="../tutorials-tutorial3-part1/index.html"
											>Part 1: Extending the stroke model</a>
					
			</h4>

						<h4 title="Part 2: Creating an eraser">

								<a href="../tutorials-tutorial3-part2/index.html"
											>Part 2: Creating an eraser</a>
					
			</h4>

						<h4 title="Part 3: Erasing stroke parts">

								<a href="../tutorials-tutorial3-part3/index.html"
											>Part 3: Erasing stroke parts</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 4: Selecting strokes">

								<a href="../tutorials-tutorial4/index.html"
											>Tutorial 4: Selecting strokes</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Selecting strokes">

								<a href="../tutorials-tutorial4-part1/index.html"
											>Part 1: Selecting strokes</a>
					
			</h4>

						<h4 title="Part 2: Selecting parts of strokes">

								<a href="../tutorials-tutorial4-part2/index.html"
											>Part 2: Selecting parts of strokes</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 5: Working with rasters">

								<a href="../tutorials-tutorial5/index.html"
											>Tutorial 5: Working with rasters</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Displaying raster images">

								<a href="../tutorials-tutorial5-part1/index.html"
											>Part 1: Displaying raster images</a>
					
			</h4>

						<h4 title="Part 2: Creating image masks">

								<a href="../tutorials-tutorial5-part2/index.html"
											>Part 2: Creating image masks</a>
					
			</h4>

							</div>
							<h3 title="Tutorial 6: Using Pen Ids">

								<a href="../tutorials-tutorial6/index.html"
											>Tutorial 6: Using Pen Ids</a>
					
			</h3>

							<div>
					<h4 title="Part 1: Obtaining Pen Identifiers">

								<a href="../tutorials-tutorial6-part1/index.html"
											>Part 1: Obtaining Pen Identifiers</a>
					
			</h4>

							</div>
								</div>
							<h2 title="API Reference">

			API Reference
			</h2>

							<div>
					<h3 title="com.wacom.ink.boundary">

								<a href="../api-package-com.wacom.ink.boundary/index.html"
											>com.wacom.ink.boundary</a>
					
			</h3>

							<div>
					<h4 title="Boundary">

								<a href="../api-com.wacom.ink.boundary.Boundary/index.html"
											>Boundary</a>
					
			</h4>

						<h4 title="BoundaryBuilder">

								<a href="../api-com.wacom.ink.boundary.BoundaryBuilder/index.html"
											>BoundaryBuilder</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.geometry">

								<a href="../api-package-com.wacom.ink.geometry/index.html"
											>com.wacom.ink.geometry</a>
					
			</h3>

							<div>
					<h4 title="WQuad">

								<a href="../api-com.wacom.ink.geometry.WQuad/index.html"
											>WQuad</a>
					
			</h4>

						<h4 title="WRect">

								<a href="../api-com.wacom.ink.geometry.WRect/index.html"
											>WRect</a>
					
			</h4>

						<h4 title="WVec2">

								<a href="../api-com.wacom.ink.geometry.WVec2/index.html"
											>WVec2</a>
					
			</h4>

						<h4 title="WVec3">

								<a href="../api-com.wacom.ink.geometry.WVec3/index.html"
											>WVec3</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.manipulation">

								<a href="../api-package-com.wacom.ink.manipulation/index.html"
											>com.wacom.ink.manipulation</a>
					
			</h3>

							<div>
					<h4 title="Intersectable">

								<a href="../api-com.wacom.ink.manipulation.Intersectable/index.html"
											>Intersectable</a>
					
			</h4>

						<h4 title="Intersector.IntersectionResult">

								<a href="../api-com.wacom.ink.manipulation.Intersector.IntersectionResult/index.html"
											>Intersector.IntersectionResult</a>
					
			</h4>

						<h4 title="Intersector.Interval">

								<a href="../api-com.wacom.ink.manipulation.Intersector.Interval/index.html"
											>Intersector.Interval</a>
					
			</h4>

						<h4 title="Intersector.IntervalIterator">

								<a href="../api-com.wacom.ink.manipulation.Intersector.IntervalIterator/index.html"
											>Intersector.IntervalIterator</a>
					
			</h4>

						<h4 title="Intersector">

								<a href="../api-com.wacom.ink.manipulation.Intersector/index.html"
											>Intersector</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.path">

								<a href="../api-package-com.wacom.ink.path/index.html"
											>com.wacom.ink.path</a>
					
			</h3>

							<div>
					<h4 title="PathBuilder.PropertyFunction">

								<a href="../api-com.wacom.ink.path.PathBuilder.PropertyFunction/index.html"
											>PathBuilder.PropertyFunction</a>
					
			</h4>

						<h4 title="PathBuilder.PropertyName">

								<a href="../api-com.wacom.ink.path.PathBuilder.PropertyName/index.html"
											>PathBuilder.PropertyName</a>
					
			</h4>

						<h4 title="PathBuilder">

								<a href="../api-com.wacom.ink.path.PathBuilder/index.html"
											>PathBuilder</a>
					
			</h4>

						<h4 title="PathChunk">

								<a href="../api-com.wacom.ink.path.PathChunk/index.html"
											>PathChunk</a>
					
			</h4>

						<h4 title="PathFormat">

								<a href="../api-com.wacom.ink.path.PathFormat/index.html"
											>PathFormat</a>
					
			</h4>

						<h4 title="PathUtils.Phase">

								<a href="../api-com.wacom.ink.path.PathUtils.Phase/index.html"
											>PathUtils.Phase</a>
					
			</h4>

						<h4 title="PathUtils">

								<a href="../api-com.wacom.ink.path.PathUtils/index.html"
											>PathUtils</a>
					
			</h4>

						<h4 title="PressurePathBuilder">

								<a href="../api-com.wacom.ink.path.PressurePathBuilder/index.html"
											>PressurePathBuilder</a>
					
			</h4>

						<h4 title="SpeedPathBuilder">

								<a href="../api-com.wacom.ink.path.SpeedPathBuilder/index.html"
											>SpeedPathBuilder</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.penid">

								<a href="../api-package-com.wacom.ink.penid/index.html"
											>com.wacom.ink.penid</a>
					
			</h3>

							<div>
					<h4 title="PenRecognizer">

								<a href="../api-com.wacom.ink.penid.PenRecognizer/index.html"
											>PenRecognizer</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.rasterization">

								<a href="../api-package-com.wacom.ink.rasterization/index.html"
											>com.wacom.ink.rasterization</a>
					
			</h3>

							<div>
					<h4 title="BitmapException">

								<a href="../api-com.wacom.ink.rasterization.BitmapException/index.html"
											>BitmapException</a>
					
			</h4>

						<h4 title="BlendMode">

								<a href="../api-com.wacom.ink.rasterization.BlendMode/index.html"
											>BlendMode</a>
					
			</h4>

						<h4 title="DirectBrush">

								<a href="../api-com.wacom.ink.rasterization.DirectBrush/index.html"
											>DirectBrush</a>
					
			</h4>

						<h4 title="Disposable">

								<a href="../api-com.wacom.ink.rasterization.Disposable/index.html"
											>Disposable</a>
					
			</h4>

						<h4 title="DisposableException">

								<a href="../api-com.wacom.ink.rasterization.DisposableException/index.html"
											>DisposableException</a>
					
			</h4>

						<h4 title="InkCanvas">

								<a href="../api-com.wacom.ink.rasterization.InkCanvas/index.html"
											>InkCanvas</a>
					
			</h4>

						<h4 title="Layer">

								<a href="../api-com.wacom.ink.rasterization.Layer/index.html"
											>Layer</a>
					
			</h4>

						<h4 title="ParticleBrush">

								<a href="../api-com.wacom.ink.rasterization.ParticleBrush/index.html"
											>ParticleBrush</a>
					
			</h4>

						<h4 title="RenderingException">

								<a href="../api-com.wacom.ink.rasterization.RenderingException/index.html"
											>RenderingException</a>
					
			</h4>

						<h4 title="RotationMode">

								<a href="../api-com.wacom.ink.rasterization.RotationMode/index.html"
											>RotationMode</a>
					
			</h4>

						<h4 title="SolidColorBrush">

								<a href="../api-com.wacom.ink.rasterization.SolidColorBrush/index.html"
											>SolidColorBrush</a>
					
			</h4>

						<h4 title="StrokeBrush">

								<a href="../api-com.wacom.ink.rasterization.StrokeBrush/index.html"
											>StrokeBrush</a>
					
			</h4>

						<h4 title="StrokeJoin">

								<a href="../api-com.wacom.ink.rasterization.StrokeJoin/index.html"
											>StrokeJoin</a>
					
			</h4>

						<h4 title="StrokePaint">

								<a href="../api-com.wacom.ink.rasterization.StrokePaint/index.html"
											>StrokePaint</a>
					
			</h4>

						<h4 title="StrokeRenderer">

								<a href="../api-com.wacom.ink.rasterization.StrokeRenderer/index.html"
											>StrokeRenderer</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.rendering">

								<a href="../api-package-com.wacom.ink.rendering/index.html"
											>com.wacom.ink.rendering</a>
					
			</h3>

							<div>
					<h4 title="EGLRenderingContext.EGLConfiguration">

								<a href="../api-com.wacom.ink.rendering.EGLRenderingContext.EGLConfiguration/index.html"
											>EGLRenderingContext.EGLConfiguration</a>
					
			</h4>

						<h4 title="EGLRenderingContext">

								<a href="../api-com.wacom.ink.rendering.EGLRenderingContext/index.html"
											>EGLRenderingContext</a>
					
			</h4>

						<h4 title="RenderingContext.EGLConfigSpecification">

								<a href="../api-com.wacom.ink.rendering.RenderingContext.EGLConfigSpecification/index.html"
											>RenderingContext.EGLConfigSpecification</a>
					
			</h4>

						<h4 title="RenderingContext">

								<a href="../api-com.wacom.ink.rendering.RenderingContext/index.html"
											>RenderingContext</a>
					
			</h4>

						<h4 title="RenderingSurfaceHandler">

								<a href="../api-com.wacom.ink.rendering.RenderingSurfaceHandler/index.html"
											>RenderingSurfaceHandler</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.serialization">

								<a href="../api-package-com.wacom.ink.serialization/index.html"
											>com.wacom.ink.serialization</a>
					
			</h3>

							<div>
					<h4 title="BrushData">

								<a href="../api-com.wacom.ink.serialization.BrushData/index.html"
											>BrushData</a>
					
			</h4>

						<h4 title="BrushDecoder">

								<a href="../api-com.wacom.ink.serialization.BrushDecoder/index.html"
											>BrushDecoder</a>
					
			</h4>

						<h4 title="BrushEncoder">

								<a href="../api-com.wacom.ink.serialization.BrushEncoder/index.html"
											>BrushEncoder</a>
					
			</h4>

						<h4 title="InkDecoder">

								<a href="../api-com.wacom.ink.serialization.InkDecoder/index.html"
											>InkDecoder</a>
					
			</h4>

						<h4 title="InkEncoder">

								<a href="../api-com.wacom.ink.serialization.InkEncoder/index.html"
											>InkEncoder</a>
					
			</h4>

						<h4 title="InkPathData">

								<a href="../api-com.wacom.ink.serialization.InkPathData/index.html"
											>InkPathData</a>
					
			</h4>

						<h4 title="SerializationException">

								<a href="../api-com.wacom.ink.serialization.SerializationException/index.html"
											>SerializationException</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.smooth">

								<a href="../api-package-com.wacom.ink.smooth/index.html"
											>com.wacom.ink.smooth</a>
					
			</h3>

							<div>
					<h4 title="MultiChannelSmoothener.SmoothingResult">

								<a href="../api-com.wacom.ink.smooth.MultiChannelSmoothener.SmoothingResult/index.html"
											>MultiChannelSmoothener.SmoothingResult</a>
					
			</h4>

						<h4 title="MultiChannelSmoothener">

								<a href="../api-com.wacom.ink.smooth.MultiChannelSmoothener/index.html"
											>MultiChannelSmoothener</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.utils">

								<a href="../api-package-com.wacom.ink.utils/index.html"
											>com.wacom.ink.utils</a>
					
			</h3>

							<div>
					<h4 title="BitUtils">

								<a href="../api-com.wacom.ink.utils.BitUtils/index.html"
											>BitUtils</a>
					
			</h4>

						<h4 title="Logger">

								<a href="../api-com.wacom.ink.utils.Logger/index.html"
											>Logger</a>
					
			</h4>

						<h4 title="Mx">

								<a href="../api-com.wacom.ink.utils.Mx/index.html"
											>Mx</a>
					
			</h4>

						<h4 title="OpenGLUtils">

								<a href="../api-com.wacom.ink.utils.OpenGLUtils/index.html"
											>OpenGLUtils</a>
					
			</h4>

						<h4 title="Utils.TickTock">

								<a href="../api-com.wacom.ink.utils.Utils.TickTock/index.html"
											>Utils.TickTock</a>
					
			</h4>

						<h4 title="Utils">

								<a href="../api-com.wacom.ink.utils.Utils/index.html"
											>Utils</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.willformat.aspects">

								<a href="../api-package-com.wacom.ink.willformat.aspects/index.html"
											>com.wacom.ink.willformat.aspects</a>
					
			</h3>

							<div>
					<h4 title="ElementAspect.Serializable">

								<a href="../api-com.wacom.ink.willformat.aspects.ElementAspect.Serializable/index.html"
											>ElementAspect.Serializable</a>
					
			</h4>

						<h4 title="ElementAspect">

								<a href="../api-com.wacom.ink.willformat.aspects.ElementAspect/index.html"
											>ElementAspect</a>
					
			</h4>

						<h4 title="FillColorable">

								<a href="../api-com.wacom.ink.willformat.aspects.FillColorable/index.html"
											>FillColorable</a>
					
			</h4>

						<h4 title="FontStyle">

								<a href="../api-com.wacom.ink.willformat.aspects.FontStyle/index.html"
											>FontStyle</a>
					
			</h4>

						<h4 title="FontWeight">

								<a href="../api-com.wacom.ink.willformat.aspects.FontWeight/index.html"
											>FontWeight</a>
					
			</h4>

						<h4 title="Measurable">

								<a href="../api-com.wacom.ink.willformat.aspects.Measurable/index.html"
											>Measurable</a>
					
			</h4>

						<h4 title="Positionable">

								<a href="../api-com.wacom.ink.willformat.aspects.Positionable/index.html"
											>Positionable</a>
					
			</h4>

						<h4 title="StrokeColorable">

								<a href="../api-com.wacom.ink.willformat.aspects.StrokeColorable/index.html"
											>StrokeColorable</a>
					
			</h4>

						<h4 title="TextDecoration">

								<a href="../api-com.wacom.ink.willformat.aspects.TextDecoration/index.html"
											>TextDecoration</a>
					
			</h4>

						<h4 title="Transformable">

								<a href="../api-com.wacom.ink.willformat.aspects.Transformable/index.html"
											>Transformable</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink.willformat">

								<a href="../api-package-com.wacom.ink.willformat/index.html"
											>com.wacom.ink.willformat</a>
					
			</h3>

							<div>
					<h4 title="BaseElement">

								<a href="../api-com.wacom.ink.willformat.BaseElement/index.html"
											>BaseElement</a>
					
			</h4>

						<h4 title="BaseNode">

								<a href="../api-com.wacom.ink.willformat.BaseNode/index.html"
											>BaseNode</a>
					
			</h4>

						<h4 title="BaseShape">

								<a href="../api-com.wacom.ink.willformat.BaseShape/index.html"
											>BaseShape</a>
					
			</h4>

						<h4 title="BaseText">

								<a href="../api-com.wacom.ink.willformat.BaseText/index.html"
											>BaseText</a>
					
			</h4>

						<h4 title="Circle">

								<a href="../api-com.wacom.ink.willformat.Circle/index.html"
											>Circle</a>
					
			</h4>

						<h4 title="ContentType">

								<a href="../api-com.wacom.ink.willformat.ContentType/index.html"
											>ContentType</a>
					
			</h4>

						<h4 title="CoreProperties">

								<a href="../api-com.wacom.ink.willformat.CoreProperties/index.html"
											>CoreProperties</a>
					
			</h4>

						<h4 title="CorePropertiesBuilder">

								<a href="../api-com.wacom.ink.willformat.CorePropertiesBuilder/index.html"
											>CorePropertiesBuilder</a>
					
			</h4>

						<h4 title="Ellipse">

								<a href="../api-com.wacom.ink.willformat.Ellipse/index.html"
											>Ellipse</a>
					
			</h4>

						<h4 title="ExtendedProperties">

								<a href="../api-com.wacom.ink.willformat.ExtendedProperties/index.html"
											>ExtendedProperties</a>
					
			</h4>

						<h4 title="ExtendedPropertiesBuilder">

								<a href="../api-com.wacom.ink.willformat.ExtendedPropertiesBuilder/index.html"
											>ExtendedPropertiesBuilder</a>
					
			</h4>

						<h4 title="FileUtils">

								<a href="../api-com.wacom.ink.willformat.FileUtils/index.html"
											>FileUtils</a>
					
			</h4>

						<h4 title="Format">

								<a href="../api-com.wacom.ink.willformat.Format/index.html"
											>Format</a>
					
			</h4>

						<h4 title="Group">

								<a href="../api-com.wacom.ink.willformat.Group/index.html"
											>Group</a>
					
			</h4>

						<h4 title="Image">

								<a href="../api-com.wacom.ink.willformat.Image/index.html"
											>Image</a>
					
			</h4>

						<h4 title="Line">

								<a href="../api-com.wacom.ink.willformat.Line/index.html"
											>Line</a>
					
			</h4>

						<h4 title="Paths">

								<a href="../api-com.wacom.ink.willformat.Paths/index.html"
											>Paths</a>
					
			</h4>

						<h4 title="Rect">

								<a href="../api-com.wacom.ink.willformat.Rect/index.html"
											>Rect</a>
					
			</h4>

						<h4 title="Recyclable">

								<a href="../api-com.wacom.ink.willformat.Recyclable/index.html"
											>Recyclable</a>
					
			</h4>

						<h4 title="Section">

								<a href="../api-com.wacom.ink.willformat.Section/index.html"
											>Section</a>
					
			</h4>

						<h4 title="Text">

								<a href="../api-com.wacom.ink.willformat.Text/index.html"
											>Text</a>
					
			</h4>

						<h4 title="TextNode">

								<a href="../api-com.wacom.ink.willformat.TextNode/index.html"
											>TextNode</a>
					
			</h4>

						<h4 title="TextSpan">

								<a href="../api-com.wacom.ink.willformat.TextSpan/index.html"
											>TextSpan</a>
					
			</h4>

						<h4 title="View">

								<a href="../api-com.wacom.ink.willformat.View/index.html"
											>View</a>
					
			</h4>

						<h4 title="WILLFormatException">

								<a href="../api-com.wacom.ink.willformat.WILLFormatException/index.html"
											>WILLFormatException</a>
					
			</h4>

						<h4 title="WILLReader">

								<a href="../api-com.wacom.ink.willformat.WILLReader/index.html"
											>WILLReader</a>
					
			</h4>

						<h4 title="WILLWriter">

								<a href="../api-com.wacom.ink.willformat.WILLWriter/index.html"
											>WILLWriter</a>
					
			</h4>

						<h4 title="WillDocument">

								<a href="../api-com.wacom.ink.willformat.WillDocument/index.html"
											>WillDocument</a>
					
			</h4>

						<h4 title="WillDocumentFactory">

								<a href="../api-com.wacom.ink.willformat.WillDocumentFactory/index.html"
											>WillDocumentFactory</a>
					
			</h4>

							</div>
							<h3 title="com.wacom.ink">

								<a href="../api-package-com.wacom.ink/index.html"
											>com.wacom.ink</a>
					
			</h3>

							<div>
					<h4 title="WILLCheckedException">

								<a href="../api-com.wacom.ink.WILLCheckedException/index.html"
											>WILLCheckedException</a>
					
			</h4>

						<h4 title="WILLException">

								<a href="../api-com.wacom.ink.WILLException/index.html"
											>WILLException</a>
					
			</h4>

						<h4 title="WILLLoader">

								<a href="../api-com.wacom.ink.WILLLoader/index.html"
											>WILLLoader</a>
					
			</h4>

			
	</nav>
</div><div id="page_content" class='page-content android'>
	<div class="seealso"><h2>See also</h2><ul><li><a href="../../general-concepts/architecture/index.html">Architectural Overview</a></li><li><a href="../../general-concepts/rasterizer/index.html">Rendering ink content</a></li><li><a href="../../general-concepts/path-building/index.html">Generating ink content</a></li><li><a href="../api-com.wacom.ink.path.SpeedPathBuilder/index.html">WILL API: The SpeedPathBuilder</a></li><li><a href="../api-com.wacom.ink.rasterization.StrokeRenderer/index.html">WILL API: The StrokeRenderer</a></li><li><a href="../api-com.wacom.ink.rasterization.SolidColorBrush/index.html">WILL API: SolidColorBrush</a></li><li><a href="../api-com.wacom.ink.rasterization.StrokePaint/index.html">WILL API: StrokePaint</a></li></ul></div>
<div id="post-118" class="page">
	<h1>Drawing with touch</h1>
<h2>Part 2: Building paths from touch input</h2>
<p>In Part 2 of this tutorial, you will build a path from the user's touch input and draw it into the drawing layer (<em>viewLayer</em>) as a stroke.</p>
<p>Path building is performed in two phases:</p>
<ol>
<li>A pointer event is converted into a partial path. This partial path can be manipulated (for example, to smooth it) before proceeding.</li>
<li>The partial path is added to the currently built path. </li>
</ol>
<p>The WILL SDK supports velocity-based or pressure-based path building. In velocity-based path building, the <strong>Path</strong> module calculates stroke geometry based on the speed of the input. In pressure-based path building, the <strong>Path</strong> module calculates stroke geometry based on the input pressure.
In this tutorial, you will use velocity-based path building.</p>
<h3>Step 1: Create paths based on user input</h3>
<p>Create an instance called <em>pathBuilder</em> using the <a href="../api-com.wacom.ink.path.SpeedPathBuilder/index.html">SpeedPathBuilder</a> class, which produces paths with variable width depending on the speed of the user's input:</p>
<pre><code class="java">pathBuilder = new SpeedPathBuilder(getResources().getDisplayMetrics().density);
pathBuilder.setNormalizationConfig(100.0f, 4000.0f);
pathBuilder.setPropertyConfig(PropertyName.Width, 5f, 10f, 5f, 10f, PropertyFunction.Power, 1.0f, false);
pathStride = pathBuilder.getStride();</code></pre>
<p>In the code above:</p>
<ul>
<li>
<p><code>pathBuilder.setNormalizationConfig(...)</code> sets the minimum and maximum velocities of the touch input. Velocity values outside this range are clamped to these min/max values.</p>
</li>
<li>
<p><code>pathBuilder.setPropertyConfig(PropertyName.Width, ....)</code> instructs the path builder to produce a width property for each control point. It sets:</p>
<ul>
<li>The min/max width values</li>
<li>The initial/final width values</li>
<li>The property dynamics function and its parameter</li>
<li>A flag that defines whether the generated value should be inverted</li>
</ul>
</li>
<li><code>pathBuilder.getStride()</code> retrieves the stride of the paths generated by the path builder. It defines the offset from one control point to the next. In this case, because a variable-width path builder is configured, the stride will be 3. This means that the path builder will work with sets of points, returned as a series of <em>x</em>, <em>y</em>, and <em>width</em> values. The stride can also be treated as the count of values defining a single path point.</li>
</ul>
<p><strong>Note:</strong> <a href="../api-com.wacom.ink.path.PathBuilder/index.html">PathBuilder</a> is unitless. However, we recommend that you use pixels as a unit when working with Android, as the Android application framework promotes the use of pixels when working with graphics, and touch input is in pixels for Android.</p>
<h3>Step 2: Create a brush to use when drawing strokes</h3>
<p>Use a <a href="../api-com.wacom.ink.rasterization.SolidColorBrush/index.html">SolidColorBrush</a> instance to draw strokes with a solid color:</p>
<pre><code class="java">brush = new SolidColorBrush();</code></pre>
<p>The <a href="../api-com.wacom.ink.rasterization.SolidColorBrush/index.html">SolidColorBrush</a> is more accurate for paths that vary sharply in width than the faster <a href="../api-com.wacom.ink.rasterization.DirectBrush/index.html">directBrush</a>.</p>
<h3>Step 3: Create and initialize layers to render the stroke</h3>
<p>Create and initialize three WILL layers to render a stroke and present it to the screen:</p>
<pre><code class="java">viewLayer = inkCanvas.createViewLayer(width, height);
strokesLayer = inkCanvas.createLayer(width, height);
currentFrameLayer = inkCanvas.createLayer(width, height);

inkCanvas.clearLayer(currentFrameLayer, Color.WHITE);</code></pre>
<ul>
<li><em>viewLayer</em> is bound to the default framebuffer (the default OpenGL framebuffer provided by the window system). Everything drawn into this layer is presented to the screen.</li>
<li><em>strokesLayer</em> contains all drawn strokes.</li>
<li><em>currentFrameLayer</em> contains the currently rendered frame, which should be copied to <em>viewLayer</em> when the rendering is complete.</li>
</ul>
<p><strong>Note:</strong> All layer creation calls should be made on the GL thread (the thread from which the WILL engine has been initialized). In this case, this is the UI thread.</p>
<h3>Step 4: Create an instance to store transient stroke information between successive draw calls</h3>
<p>Create a <a href="../api-com.wacom.ink.rasterization.StrokePaint/index.html">StrokePaint</a> instance to hold information about how the strokes should be drawn:</p>
<pre><code class="java">paint = new StrokePaint();
paint.setStrokeBrush(brush);    // Solid color brush.
paint.setColor(Color.BLUE);     // Blue color.
paint.setWidth(Float.NaN);      // Expected variable width.</code></pre>
<p>Each <a href="../api-com.wacom.ink.rasterization.StrokePaint/index.html">StrokePaint</a> instance can be treated as a stroke rendering configuration: it holds all the information required by the WILL SDK <strong>Rasterizer</strong> module to draw a path, in the form of a stroke, into a specified <a href="../api-com.wacom.ink.rasterization.InkCanvas/index.html">InkCanvas</a>: it holds the previously created <a href="../api-com.wacom.ink.rasterization.SolidColorBrush/index.html">SolidColorBrush</a> instance (called <em>brush</em>), a color, the stroke width, and the stroke start cap and end cap flags. You will set the beginning and ending caps later, when you draw the parts of the stroke.</p>
<p>In the code above, <code>paint.setWidth(Float.NaN)</code> indicates that the stroke will be drawn with variable width.</p>
<p>Finally create an instance of the <a href="../api-com.wacom.ink.rasterization.StrokeRenderer/index.html">StrokeRenderer</a> class, which encapsulates dirty area clean-up and rendering optimization techniques, allowing fast and smooth stroke drawing.</p>
<pre><code class="java">strokeRenderer = new StrokeRenderer(inkCanvas, paint, pathStride, width, height);</code></pre>
<h3>Step 5: Set an <code>OnTouchListener</code> to handle user input</h3>
<p>Set an <code>OnTouchListener</code> to <em>surfaceView</em>:</p>
<pre><code class="java">surfaceView.setOnTouchListener(new OnTouchListener()) {
    @Override
    public boolean onTouch(View v, MotionEvent event) {
            buildPath(event);
            drawStroke(event); 
            renderView();
            return true;
    }
});</code></pre>
<h3>Step 6: Build a path from the user input</h3>
<p>Define a <code>buildPath(...)</code> method to build a path with a variable width, based on the received Android <code>MotionEvents</code>:</p>
<pre><code class="java">private void buildPath(MotionEvent event){
    if (event.getAction()!=MotionEvent.ACTION_DOWN 
            &amp;&amp; event.getAction()!=MotionEvent.ACTION_MOVE 
            &amp;&amp; event.getAction()!=MotionEvent.ACTION_UP){
        return;
    }

    Phase phase = PathUtils.getPhaseFromMotionEvent(event);
    // Add the current input point to the path builder
    FloatBuffer part = pathBuilder.addPoint(phase, event.getX(), event.getY(), event.getEventTime());
    int partSize = pathBuilder.getPathPartSize();

    if (partSize&gt;0){
        // Add the returned control points (aka partial path) to the path builder. 
        pathBuilder.addPathPart(part, partSize);
    }
}</code></pre>
<p>For each phase of the path lifecycle, the path builder calculates a partial path. This is a set of points with variable width (as a <code>FloatBuffer</code>), based on the current touch coordinates and timestamp. Additional processing can be applied to these points before adding them to the currently built path, but in this case they are simply fed back to the path buffer.</p>
<p><a href="../api-com.wacom.ink.path.PathUtils/index.html">PathUtils.getPhaseFromMotionEvent(event)</a> is a utility method that translates Android touch input into path building phases. Possible phases are: <code>Phase.BEGIN</code>, <code>Phase.MOVE</code>, <code>Phase.END</code>, <code>Phase.UNKNOWN</code>.</p>
<p>For more information on <code>MotionEvents</code>, see [<a href="http://developer.android.com/reference/android/view/MotionEvent.html](http://developer.android.com/reference/android/view/MotionEvent.html">http://developer.android.com/reference/android/view/MotionEvent.html](http://developer.android.com/reference/android/view/MotionEvent.html</a> ).</p>
<h3>Step 7: Draw the strokes</h3>
<p>Define a <code>drawStroke(...)</code> method to be responsible for the stroke composition: </p>
<pre><code class="java">private void drawStroke(MotionEvent event){
    strokeRenderer.drawPoints(pathBuilder.getPathBuffer(), pathBuilder.getPathLastUpdatePosition(), pathBuilder.getAddedPointsSize(), event.getAction()==MotionEvent.ACTION_UP);

    if (event.getAction()!=MotionEvent.ACTION_UP){
        inkCanvas.setTarget(currentFrameLayer, strokeRenderer.getStrokeUpdatedArea());
        inkCanvas.clearColor(Color.WHITE);
        inkCanvas.drawLayer(strokesLayer, BlendMode.BLENDMODE_NORMAL);
        strokeRenderer.blendStrokeUpdatedArea(currentFrameLayer, BlendMode.BLENDMODE_NORMAL);
    } else {
        strokeRenderer.blendStroke(strokesLayer, BlendMode.BLENDMODE_NORMAL);
        inkCanvas.setTarget(currentFrameLayer);
        inkCanvas.clearColor(Color.WHITE);
        inkCanvas.drawLayer(strokesLayer, BlendMode.BLENDMODE_NORMAL);
    }
}</code></pre>
<p>This method is called on every touch event.</p>
<p>The most simplified stroke lifecycle can be described in three steps: a stroke beginning, stroke intermediate points rendering, and stroke finalization. In this case, stroke rendering begins on a <code>MotionEvent.ACTION_MOVE</code> event and ends on a <code>MotionEvent.ACTION_UP</code> event. The stroke's intermediate points are rendered on <code>MotionEvent.ACTION_MOVE</code> events.</p>
<p>The <code>drawStroke(...)</code> method above shows an example usage of the <a href="../api-com.wacom.ink.rasterization.StrokeRenderer/index.html">StrokeRenderer</a> class, which provides a simplified mechanism to draw strokes on an <a href="../api-com.wacom.ink.rasterization.InkCanvas/index.html">InkCanvas</a>.
It draws the last built partial path points into an internally maintained layer of the <a href="../api-com.wacom.ink.rasterization.StrokeRenderer/index.html">StrokeRenderer</a> instance using the <code>strokeRenderer.drawPoints(...)</code> method. Then the newly generated stroke part is blended into <em>currentFrameLayer</em>.</p>
<h3>Step 8: Present the strokes on screen</h3>
<p>Modify the <code>renderView()</code> method to overwrite <em>viewLayer</em> with the contents of <em>currentFrameLayer</em>, presenting the contents on screen:</p>
<pre><code class="java">private void renderView() {
    inkCanvas.setTarget(viewLayer);
    inkCanvas.drawLayer(currentFrameLayer, BlendMode.BLENDMODE_OVERWRITE);
    inkCanvas.invalidate();
}</code></pre>
<h3>Step 9: Dispose of the <code>StrokeRenderer</code> instance when no longer needed</h3>
<p>Update the <code>releaseResources()</code> method to dispose of the <a href="../api-com.wacom.ink.rasterization.StrokeRenderer/index.html">StrokeRenderer</a> instance when the OpenGL resources are released:</p>
<pre><code class="java">private void releaseResources(){
    strokeRenderer.dispose();
    inkCanvas.dispose();
}</code></pre>
<h2>Next steps</h2>
<p>At this point, you can continue with this tutorial.</p>
</div> <!-- page -->
			<nav class="prev-next-page">
									<a href="../tutorials-tutorial1-part1/index.html" class="prev-page">&laquo; Part 1: Setting up the ink engine</a>
										<a href="../tutorials-tutorial1-part3/index.html" class="next-page">Part 3: Smoothing paths &raquo;</a>
								</nav>
			</div> <!-- page_content -->

	</div><!-- #sitewrapper -->

	<footer>
		<img src="../../wp-content/themes/will-doc/images/img_logo_wacom.png" alt="" />
<!--
		<span>&nbsp;</span>
		<a href="/contact.html">Contact</a>
		<a href="/support.html">Support</a>
-->
	</footer>
</body>
</html>